<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Team Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f0f0;
      margin: 0;
      padding: 0;
    }
    header {
      background: #004d99;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    #setup, #quiz, #results {
      max-width: 800px;
      margin: 2rem auto;
      background: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .team-input {
      margin-bottom: 1rem;
    }
    .team-input label {
      display: block;
      margin-bottom: 0.5rem;
    }
    .team-input input {
      width: 100%;
      padding: 0.5rem;
      font-size: 1rem;
    }
    .question {
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }
    .options button {
      display: block;
      width: 100%;
      margin: 0.5rem 0;
      padding: 0.75rem;
      font-size: 1rem;
      border: none;
      border-radius: 4px;
      background: #e0e0e0;
      cursor: pointer;
    }
    .options button:hover {
      background: #d0d0d0;
    }
    .team-section {
      margin-bottom: 2rem;
    }
    .team-section h3 {
      margin-bottom: 0.5rem;
    }
    #next-question {
      margin-top: 1rem;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      background: #004d99;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    #scoreboard {
      margin-top: 2rem;
    }
    #scoreboard h2 {
      margin-bottom: 1rem;
    }
    #scoreboard ul {
      list-style: none;
      padding: 0;
    }
    #scoreboard li {
      margin-bottom: 0.5rem;
    }
  </style>
</head>
<body>

  <header>
    <h1>Team Quiz Challenge</h1>
  </header>

  <div id="setup">
    <h2>Enter Team Names</h2>
    <div class="team-input">
      <label for="team1">Team 1:</label>
      <input type="text" id="team1" required />
    </div>
    <div class="team-input">
      <label for="team2">Team 2:</label>
      <input type="text" id="team2" required />
    </div>
    <div class="team-input">
      <label for="team3">Team 3:</label>
      <input type="text" id="team3" required />
    </div>
    <div class="team-input">
      <label for="team4">Team 4:</label>
      <input type="text" id="team4" required />
    </div>
    <button id="start-quiz">Start Quiz</button>
  </div>

  <div id="quiz" style="display:none;">
    <div id="question-container">
      <div class="question" id="question-text"></div>
      <div class="options" id="options-container"></div>
    </div>
    <div id="team-answers"></div>
    <button id="next-question" style="display:none;">Next Question</button>
  </div>

  <div id="results" style="display:none;">
    <h2>Final Scores</h2>
    <div id="scoreboard"></div>
  </div>

  <script>
    const scriptUrl = 'https://script.google.com/macros/s/AKfycbwy1BJEtmDlJq7UVVoXqgXa9v8uxQ6Wqkjw1_AtloaFaKCB_x2D5REvx8uCxj0eZbg4/exec'; // Replace with your actual Apps Script Web App URL
    let questions = [];
    let currentQuestionIndex = 0;
    let teams = [];
    let teamScores = {};
    let teamAnswers = {};

    document.getElementById('start-quiz').addEventListener('click', () => {
      const team1 = document.getElementById('team1').value.trim();
      const team2 = document.getElementById('team2').value.trim();
      const team3 = document.getElementById('team3').value.trim();
      const team4 = document.getElementById('team4').value.trim();
      if (team1 && team2 && team3 && team4) {
        teams = [team1, team2, team3, team4];
        teams.forEach(team => {
          teamScores[team] = 0;
        });
        document.getElementById('setup').style.display = 'none';
        fetchQuestions();
      } else {
        alert('Please enter all team names.');
      }
    });

    function fetchQuestions() {
      fetch(scriptUrl)
        .then(response => response.json())
        .then(data => {
          questions = data;
          showQuestion();
        })
        .catch(error => {
          console.error('Error fetching questions:', error);
        });
    }

    function showQuestion() {
      teamAnswers = {};
      document.getElementById('next-question').style.display = 'none';
      const questionData = questions[currentQuestionIndex];
      document.getElementById('question-text').textContent = questionData['Question'];
      const optionsContainer = document.getElementById('options-container');
      optionsContainer.innerHTML = '';
      ['A', 'B', 'C', 'D'].forEach(option => {
        if (questionData['Option ' + option]) {
          const button = document.createElement('button');
          button.textContent = questionData['Option ' + option];
          button.dataset.option = option;
          button.addEventListener('click', () => {
            // This function will be defined per team
          });
          optionsContainer.appendChild(button);
        }
      });
      displayTeamSections(questionData);
    }

    function displayTeamSections(questionData) {
      const teamAnswersDiv = document.getElementById('team-answers');
      teamAnswersDiv.innerHTML = '';
      teams.forEach(team => {
        const section = document.createElement('div');
        section.classList.add('team-section');
        const heading = document.createElement('h3');
        heading.textContent = team;
        section.appendChild(heading);
        ['A', 'B', 'C', 'D'].forEach(option => {
          if (questionData['Option ' + option]) {
            const button = document.createElement('button');
            button.textContent = questionData['Option ' + option];
            button.dataset.option = option;
            button.addEventListener('click', () => {
              if (!teamAnswers[team]) {
                teamAnswers[team] = option;
                button.style.backgroundColor = '#a0e0a0';
                checkAllTeamsAnswered(questionData);
              }
            });
            section.appendChild(button);
          }
        });
        teamAnswersDiv.appendChild(section);
      });
    }

    function checkAllTeamsAnswered(questionData) {
      if (Object.keys(teamAnswers).length === teams.length) {
        // Evaluate answers
        teams.forEach(team => {
          if (teamAnswers[team] === questionData['Correct Answer']) {
            teamScores[team]++;
          }
        });
        document.getElementById('next-question').style.display = 'block';
      }
    }

    document.getElementById('next-question').addEventListener('click', () => {
      currentQuestionIndex++;
      if (currentQuestionIndex < questions.length) {
        showQuestion();
      } else {
        showResults();
      }
    });

    function showResults() {
      document.getElementById('quiz').style.display = 'none';
      document.getElementById('results').style.display = 'block';
      const scoreboard = document.getElementById('scoreboard');
      scoreboard.innerHTML = '';
      const sortedTeams = teams.sort((a, b) => teamScores[b] - teamScores[a]);
      const ul = document.createElement('ul');
      sortedTeams.forEach(team => {
        const li = document.createElement('li');
        li.textContent = `${team}: ${teamScores[team]} points`;
        ul.appendChild(li);
      });
      scoreboard.appendChild(ul);
    }
  </script>

</body>
</html>
``
::contentReference[oaicite:13]{index=13}
 
